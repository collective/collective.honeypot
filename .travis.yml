sudo: false
cache:
  directories:
  - buildout-cache
language: python
# Note: Python 2.4 / Plone 3.3 is not supported.
python:
  - "2.6"
  - "2.7"
env:
  - BUILDOUT_CONFIG=plone40.cfg
  - BUILDOUT_CONFIG=plone41.cfg
  - BUILDOUT_CONFIG=plone42.cfg
  - BUILDOUT_CONFIG=plone43.cfg
matrix:
  exclude:
    - python: "2.7"
        env: BUILDOUT_CONFIG=plone40
    - python: "2.7"
        env: BUILDOUT_CONFIG=plone41
notifications:
  email:
    recipients:
    - m.van.rees@zestsoftware.nl
    on_success: change
install:
  - mkdir -p buildout-cache/eggs
  - mkdir -p buildout-cache/downloads
  - python bootstrap.py -c travis.cfg
  - bin/buildout -N -t 3 -c travis.cfg install download install
  - bin/buildout -N -t 3 -c travis.cfg
script: bin/test
